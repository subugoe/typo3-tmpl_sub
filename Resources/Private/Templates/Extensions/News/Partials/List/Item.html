{namespace n=Tx_News_ViewHelpers}
<!--
	=====================
		Partials/List/Item.html
-->
<div class="article articletype-{newsItem.type}{f:if(condition: newsItem.istopnews, then: ' topnews')}">
	<n:excludeDisplayedNews newsItem="{newsItem}" />
	<!-- header -->
	<div class="header">
		<h3>{newsItem.title}</h3>
	</div>

<!--Shows Category image in the list. Condition needed to show the category image even if there is a media element in the text-->
	<f:if condition="{newsItem.firstCategory.image}">
		<f:then>
			<f:if condition="{newsItem.media}">
				<f:then>
					<div class="news-img-wrap">
						<n:link newsItem="{newsItem}" settings="{settings}">
							<span class="no-media-element">
								<f:image
									src="uploads/tx_news/{newsItem.firstCategory.image}"
									title=""
									alt=""
									maxWidth="{settings.list.media.image.maxWidth}"
									maxHeight="{settings.list.media.image.maxHeight}"
								/>
							</span>
						</n:link>
					</div>
				</f:then>
				<f:else>
					<div class="news-img-wrap">
						<n:link newsItem="{newsItem}" settings="{settings}">
							<span class="no-media-element">
								<f:image
									src="uploads/tx_news/{newsItem.firstCategory.image}"
									title=""
									alt=""
									maxWidth="{settings.list.media.image.maxWidth}"
									maxHeight="{settings.list.media.image.maxHeight}"
								/>
							</span>
						</n:link>
					</div>
				</f:else>
			</f:if>
		</f:then>
	</f:if>

	<!-- teas=ser text -->
	<div class="teaser-text">
		<f:if condition="{newsItem.teaser}">
			<f:then><f:format.html>{newsItem.teaser}</f:format.html></f:then>
			<f:else><f:format.html><f:format.crop maxCharacters="{settings.cropMaxCharacters}" respectWordBoundaries="true">{newsItem.bodytext}</f:format.crop></f:format.html></f:else>
		</f:if>
		<n:link newsItem="{newsItem}" settings="{settings}"><f:translate key="more-link" /></n:link>

	</div>

	<!-- footer information -->
	<div class="footer" role="contentinfo">
		<p>
			<!-- date -->
			<span class="news-list-date">
				<f:format.date format="d.m.Y">{newsItem.datetime}</f:format.date>
			</span>

			<!-- first category -->
			<f:if condition="{newsItem.firstCategory}">
				<f:link.page pageUid="{categories.shortcut}" additionalParams="{tx_news_pi1:{overwriteDemand:{categories: newsItem.firstCategory.uid}}}">{newsItem.firstCategory.title}</f:link.page>
			</f:if>

			<!-- author -->
			<!--<f:if condition="{newsItem.author}">
				<span class="news-list-author">
					<f:translate key="author" arguments="{0:newsItem.author}" />
				</span>
			</f:if>-->
		</p>
	</div>
</div>
