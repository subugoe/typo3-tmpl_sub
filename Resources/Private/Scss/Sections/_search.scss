// TODO: Remove tx-subtabs ext stylesheet
// TODO: This is just for testing, rework
// BEM style: block_element -modifier

.search {
    position: relative;
    z-index: 1;

    @media(max-width: ($search-width + $grid)) {
        right: 0;
        width: 100%;
    }
}

.search_description {
    font-weight: bold;
}

.search_navigation {
    box-shadow: 0 0 $grid rgba(#000, .5);
    clip: rect(-9999em (8 * $grid) 9999em -9999em); // Prevent tabs shadow from overlapping search form
    list-style: none;
    opacity: 0;
    padding: 0;
    position: absolute;
    left: (-8 * $grid);
    transition: opacity .5s, visibility .5s;
    visibility: hidden;
    width: (8 * $grid);
    z-index: 1;

    @include respond-to(medium) {
        clip: rect(-9999em 9999em (2 * $grid) -9999em);
        display: table;
        left: 0;
        table-layout: fixed;
        top: (-2 * $grid);
        width: 100%;
    }

    .-show-all & {
        visibility: visible;
        opacity: 1;
    }

    li {
        display: block;
        border-bottom: 1px solid $darkblue;
        overflow: hidden; // Prevent links from overflowing border-radius

        @include respond-to(medium) {
            border-right: 1px solid $darkblue;
            display: table-cell;
        }

        &:first-child {
            border-top-left-radius: 2px;

            @media(max-width: ($search-width + $grid)) {
                border-top-left-radius: 0
            }
        }

        &:last-child {
            border-bottom: 0;
            border-bottom-left-radius: 2px;

            @include respond-to(medium) {
                border-right: 0;
                border-top-right-radius: 2px;
            }
        }
    }

    a {
        background: $nav-background-color;
        color: $white;
        display: block;
        padding: (.5 * $grid);
        overflow: hidden;
        position: relative;
        white-space: nowrap;
        text-overflow: ellipsis;

        &.-active {
            background: $white;
            color: $link-color;
        }
    }
}

.search_form {
    padding: ($grid / 2);
    position: relative;
    z-index: 1;
}

.search_input {
    background: $white;
    border: 1px inset $lightblue;
    border-radius: 2px;
    box-shadow: .1em .1em .5em rgba(#000, .2) inset;
    float: right;
    line-height: $grid;
    padding: ($grid / 2 - 1px);
    transition: width .5s;
    width: (10 * $grid);

    @include respond-to(medium) {
        width: 100%;
    }

    &:focus {
        border: 1px solid $darkblue;
        box-shadow: none;
        outline: 0;
    }

    .-show-all & {
        width: 100%;
    }
}

.search_submit {
    @include fa-icon('search', false);
    background: none;
    border: 0;
    color: $nav-background-color;
    font-size: 1.5em;
    height: (2 * $grid);
    min-width: ($grid * 2);
    position: absolute;
    right: ($grid / 2);
    top: ($grid / 2);
    width: (2 * $grid);

    &:focus,
    &:hover,
    &:active {
        color: $link-color;
    }
}

.search_content {
    background: $white;
    border-radius: 0 2px 2px 2px;
    box-shadow: 0 0 $grid rgba(#000, .5);
    opacity: 0;
    padding: ($grid * 3) $grid $grid;
    position: absolute;
    top: 0;
    transition: opacity .5s, visibility .5s;
    visibility: hidden;
    width: 100%;

    .-show-all &:first-of-type {
        visibility: visible;
        opacity: 1;
    }

    @include respond-to(medium) {
        border-radius: 0;
    }
}
